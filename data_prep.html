<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Preparation</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="navbar">
        <a href="introduction.html">Introduction</a>
        <a href="data_prep.html" class="active">Data Prep</a>
        <a href="eda.html">EDA</a>        
        <a href="pca.html">PCA</a>
        <a href="clustering.html">Clustering</a>
        <a href="arm.html">ARM</a>
        <a href="decision_trees.html">Decision Trees</a>
        <a href="naive_bayes.html">Naive Bayes</a>
        <a href="svm.html">SVM</a>
        <a href="regression.html">Regression</a>
        <a href="conclusions.html">Conclusions</a>
        <a href="about_me.html">About Me</a>
    </div>

    <div class="content-section">
        <h1>Data Preparation</h1>
        
        <div class="content-wrapper">
            <p>
                The data used in this project was sourced from the USDA FoodData Central API, a reliable and comprehensive repository of food and nutrient data. The decision to use USDA's database stems from its authoritative and up-to-date information on food composition, making it an ideal choice for a health analytics project. By gathering data directly from the USDA, we ensure a high level of accuracy and relevance for analyzing the impact of ultra-processed foods on public health. Health analytics is essential for uncovering critical trends and making informed decisions about dietary habits, addressing global health crises such as obesity and chronic diseases.
            </p>
        </div>
    
        <h2>How the Data Was Gathered</h2>
        <div class="content-wrapper">
            <p>
                Data was collected using the USDA FoodData Central API. This API provides access to a wealth of food-related data, including nutrient profiles, food descriptions, and categories. The core endpoint utilized was:
            </p>
    
            <div class="button-section">
                <a href="https://api.nal.usda.gov/fdc/v1/foods/search" target="_blank" class="github-button">Core Endpoint</a>
            </div>

            <p>
                Example of a GET request used to fetch the data:
            </p>
    
            <pre><code>{
            "query": "soda",
            "pageSize": 50,
            "pageNumber": 1,
            "api_key": "YOUR_API_KEY"
        }</code></pre>
    
            <p>
            Multiple food categories were queried, including soda, chips, cookies, candy, fast food, and other ultra-processed food items. Each query was executed with pagination to ensure a comprehensive dataset.
            </p>
        </div>
    
        <h2>Raw and Cleaned Data</h2>
        <div class="content-wrapper">
            <p>Below are snapshots of the raw and cleaned data, providing an overview of the transformation process:</p>
        
            <div class="data-section">
                <div class="data-box">
                    <h3>Raw Data</h3>
                    <img src="assets/raw_data.jpeg" alt="Raw Data Snapshot" class="data-image">
                    <p>The raw data, as retrieved from the API, contained multiple inconsistencies, such as missing values and unstructured nutrient information. This required extensive cleaning to ensure usability and accuracy for analysis.</p>
                </div>
        
                <div class="data-box">
                    <h3>Cleaned Data</h3>
                    <img src="assets/cleaned_data.jpeg" alt="Cleaned Data Snapshot" class="data-image">
                    <p>After cleaning, the data was structured into a consistent format with clearly defined columns for Description, Category, Brand, Calories, Protein, Fat, and Carbs. This step was crucial for ensuring reliable and accurate analysis across various models and visualizations.</p>
                </div>
            </div>
        </div>
    
        <h2>Download the Data</h2>
        <div class="content-wrapper">
            <p>Explore the full datasets by downloading them using the links below:</p>
            <div class="button-section">
                <a href="https://github.com/mrxxnal/USDA_FOODS/blob/main/data/raw_data.csv" class="github-button">Raw Data</a>
                <a href="https://github.com/mrxxnal/USDA_FOODS/blob/main/data/cleaned_data.csv" class="github-button">Cleaned Data</a>
            </div>
        </div>

        <h2>Data Transformation Process</h2>
        <div class="content-wrapper">
            <p>
                After gathering and cleaning the data, we performed essential transformations to enhance its usability. This step ensures the data is structured correctly for modeling and visualization. Below is an overview of the key transformations applied:
            </p>

            <div class="data-section">
                <div class="data-box">
                    <h3>Feature Engineering and Data Normalization</h3>
                    <img src="assets/data_prep.jpeg" alt="Feature Engineering and Normalization" class="data-image">
                    <p>
                        The transformation process included three major steps:
                    </p>
                    <ol>
                        <li>
                            <strong>Removing Unnecessary Columns:</strong> The dataset often contained an "Unnamed: 0" column, which was automatically added during certain processing steps. This column was removed to streamline the data structure.
                        </li>
                        <li>
                            <strong>Feature Engineering:</strong> To derive deeper insights, we created three new features:
                            <ul>
                                <li><code>Calories_per_Protein</code> - The ratio of calories to protein content.</li>
                                <li><code>Calories_per_Fat</code> - The ratio of calories to fat content.</li>
                                <li><code>Calories_per_Carb</code> - The ratio of calories to carbohydrates.</li>
                            </ul>
                            To avoid division by zero, a small constant (1e-5) was added to the denominator.
                        </li>
                        <li>
                            <strong>Data Normalization:</strong> We used the <code>StandardScaler</code> from <code>sklearn</code> to normalize the numerical features (<code>Calories, Protein, Fat, Carbs</code>). This process ensures that all features have a consistent scale, improving the performance of machine learning models.
                        </li>
                    </ol>
                    <p>
                        These transformations were critical for ensuring that our dataset was well-structured, free from inconsistencies, and ready for further analysis. The combination of feature engineering and normalization enables more effective pattern recognition in subsequent modeling steps.
                    </p>
                </div>
            </div>
        </div>
    
        <h2>Why Health Analytics Matters</h2>
        <div class="content-wrapper">
            <p>
                Health analytics plays a pivotal role in understanding the dietary factors contributing to global health crises. By analyzing food data, we can uncover critical insights into the consumption patterns of ultra-processed foods and their association with chronic diseases like obesity, diabetes, and cardiovascular conditions. This project is driven by the belief that data-driven insights can empower individuals, policymakers, and organizations to make informed decisions, paving the way for healthier societies and improved public health outcomes.
            </p>
        </div>
    </div>
</body>
</html>