<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Preparation</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="navbar">
        <a href="introduction.html">Introduction</a>
        <a href="data_prep.html" class="active">Data Prep</a>
        <a href="eda.html">EDA</a>        
        <a href="pca.html">PCA</a>
        <a href="clustering.html">Clustering</a>
        <a href="arm.html">ARM</a>
        <a href="decision_trees.html">Decision Trees</a>
        <a href="naive_bayes.html">Naive Bayes</a>
        <a href="svm.html">SVM</a>
        <a href="regression.html">Regression</a>
        <a href="conclusions.html">Conclusions</a>
        <a href="about_me.html">About Me</a>
    </div>

    <div class="content-section">
        <h1>Data Preparation</h1>

        <div class="content-wrapper">
            <p>
                The data used in this project was sourced from the USDA FoodData Central API, a reliable and comprehensive repository of food and nutrient data. The decision to use USDA's database stems from its authoritative and up-to-date information on food composition, making it an ideal choice for a health analytics project. By gathering data directly from the USDA, we ensure a high level of accuracy and relevance for analyzing the impact of ultra-processed foods on public health. Health analytics is essential for uncovering critical trends and making informed decisions about dietary habits, addressing global health crises such as obesity and chronic diseases.
            </p>
        </div>

        <h2>How the Data Was Gathered</h2>

        <div class="content-wrapper">
            <p>
                Data was collected using the USDA FoodData Central API, a trusted and comprehensive source of food and nutrition information. 
                The USDA (United States Department of Agriculture) maintains an extensive repository of food composition data, making it a
                reliable resource for health and nutrition analytics. The **USDA FoodData Central API** provides access to various datasets, 
                including nutrient profiles, food descriptions, and product categories.
            </p>

            <div class="button-section">
                <a href="https://www.usda.gov/" target="_blank" class="github-button">USDA Data Website</a>
            </div>

            <p>
                For programmatic access, we used the **FoodData Central API**, which allows querying foods based on categories, brand names, and 
                specific nutrient values. The core endpoint utilized for retrieving food data was:
            </p>

            <div class="button-section">
                <a href="https://api.nal.usda.gov/fdc/v1/foods/search" target="_blank" class="github-button">Core Endpoint</a>
            </div>

            <p>
                Example of a GET request used to fetch the data:
            </p>

            <pre><code>{
                "query": "soda",
                "pageSize": 50,
                "pageNumber": 1,
                "api_key": "YOUR_API_KEY"
            }</code></pre>

            <p>
                To ensure a diverse dataset, multiple food categories were queried, including soda, chips, cookies, candy, fast food, 
                and other ultra-processed food items. Each query was executed with pagination to retrieve a comprehensive dataset, 
                enabling deeper insights into food composition and processing levels.
            </p>
        </div>

        <h2>Raw and Cleaned Data</h2>

        <div class="content-wrapper">
            <p>Below are snapshots of the raw and cleaned data, providing an overview of the transformation process:</p>

            <div class="content-wrapper">
                <h3>Raw Data</h3>
                <img src="assets/raw_data.jpeg" alt="Raw Data Snapshot">
                <p>
                    The raw data was fetched from the USDA FoodData Central API. Initially, the dataset contained multiple inconsistencies, 
                    such as missing values, redundant columns, and unstructured nutrient information. Fetching the data involved sending 
                    requests to the API using multiple food categories like **soda, chips, cookies, candy, fast food**, etc. 
                </p>
                <p>
                    The script used for fetching raw data includes API calls, pagination handling, and structured storage in a CSV format. 
                    You can view the script for fetching data from the USDA API below:
                </p>

                <div class="button-section">
                    <a href="https://github.com/mrxxnal/USDA_FOODS/blob/main/src/fetch_data.py" target="_blank" class="github-button">
                        Fetch Raw Data Script
                    </a>
                </div>
            </div>

            <div class="content-wrapper">
                <h3>Cleaned Data</h3>
                <img src="assets/cleaned_data.jpeg" alt="Cleaned Data Snapshot">
                <p>
                    After fetching the data, it underwent extensive **cleaning and transformation** to ensure consistency and accuracy. 
                    The data cleaning process involved:
                </p>
                <ul>
                    <li>Removing unnecessary columns such as **metadata fields**.</li>
                    <li>Handling **missing values** by imputing or removing incomplete entries.</li>
                    <li>Standardizing **nutrient values** for better comparability.</li>
                    <li>Generating additional features such as **Calories per Protein, Calories per Fat, and Calories per Carb**.</li>
                    <li>Normalizing **key features** using `StandardScaler` for consistency in visualization.</li>
                </ul>

                <p>
                    The script used for cleaning and transforming the data can be accessed below:
                </p>

                <div class="button-section">
                    <a href="https://github.com/mrxxnal/USDA_FOODS/blob/main/USDA_FOOD_Website/src/clean_data.py" target="_blank" class="github-button">
                        Data Cleaning & Transformation Script
                    </a>
                </div>
            </div>
        </div>

        <h2>Download the Data</h2>

        <div class="content-wrapper">
            <p>Explore the full datasets by downloading them using the links below:</p>
            <div class="button-section">
                <a href="https://github.com/mrxxnal/USDA_FOODS/blob/main/data/raw_data.csv" class="github-button">Raw Data</a>
                <a href="https://github.com/mrxxnal/USDA_FOODS/blob/main/data/cleaned_data.csv" class="github-button">Cleaned Data</a>
            </div>
        </div>

        <h2>Why Health Analytics Matters</h2>

        <div class="content-wrapper">
            <p>
                Health analytics plays a pivotal role in understanding the dietary factors contributing to global health crises. By analyzing food data, we can uncover critical insights into the consumption patterns of ultra-processed foods and their association with chronic diseases like obesity, diabetes, and cardiovascular conditions. This project is driven by the belief that data-driven insights can empower individuals, policymakers, and organizations to make informed decisions, paving the way for healthier societies and improved public health outcomes.
            </p>
        </div>
    </div>
</body>
</html>